
<div class="container">

<div class="row">
  <div class="col-sm-2 text24">
    Users
  </div>
  <div class="offset-sm-6 col-sm-4 text18">disable everyone
    <label class="switch" id="disable_everyone">
      <input type="checkbox" class="success" [checked]="allDisabled()" (click)="checkDisableAll($event, settings)">
      <span class="slider round"></span>
    </label>
  </div>
</div>


<div class="row">
  <div class="col"><app-search-user-by-name (selectedUser)="onUserSelectedByName($event)"></app-search-user-by-name></div>
  <div class="col"><app-search-user-by-phone (selectedUser)="onUserSelectedByPhone($event)"></app-search-user-by-phone></div>
</div>


<form [hidden]="!user.displayName" (ngSubmit)="onSubmit()" #userForm="ngForm">
  <div class="form-group padtop20">
    <div class="row">
      <div class="col">
          <input type="text" class="form-control" id="nameField" placeholder="Name"
                  [(ngModel)]="nameValue" name="name" #name="ngModel" required>
      </div>

      <div class="col text18" [hidden]="!user.uid || (me != null && me.uid === user.uid)">
        disabled
        <!-- CHECK THIS OUT:  https://bootsnipp.com/snippets/GaxR2 -->
        <label class="switch" id="disabled_switch_{{user.displayName}}">
          <input id="disabled_checkbox_{{user.displayName}}" type="checkbox" class="success" [checked]="user.isDisabled" (click)="checked($event, user)">
          <span class="slider round"></span>
        </label>
      </div>
    </div>

    <div class="row">
      <div class="col" id="phoneLabel">{{user.phoneNumber}}</div>
      <div class="col" id="online_label">
        <div [hidden]="!user.online" class="online_circle">online</div>
        <div [hidden]="user.online" class="offline_circle">offline</div>
      </div>
    </div>
    <div class="row">
      <div class="col">{{user.uid}}</div>
    </div>
    <div class="row">
      <div class="col">Joined {{user.date_ms | date: 'MM/dd/yyyy'}}</div>
    </div>
    <div class="row">
      <div class="col">Roles:</div>
    </div>
    <div class="row">
      <div class="col"><span *ngFor="let role of roles">{{role}}</span></div>
    </div>
    <div class="row">
      <div class="col"><span *ngIf="!roles">None</span></div>
    </div>
  </div>

  <button id="submit_user" type="submit" class="btn btn-success" [disabled]="!userForm.form.valid">Submit</button>
  &nbsp;
  <button id="cancel_user" type="button" (click)="cancel()" class="btn btn-secondary">Cancel</button>

</form>


</div>
