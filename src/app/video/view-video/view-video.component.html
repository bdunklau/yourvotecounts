
<div class="row" style="margin-left:0px;margin-right:0px;padding:0 0 0 0">
    <div class="col" *ngIf="videoUrl" style="background-color:#000000;margin-left:0px;margin-right:0px;padding:0 0 0 0">
        <video style="width:100vw;" controls playsinline preload="metadata">
            <source src="{{videoUrl}}" type="{{videoType}}">
            Your browser does not support the video tag.
        </video>

    </div>
</div>

<!-- sanity check...  
<div class="row" style="margin-bottom:20px">
    <div class="col" *ngIf="videoUrl">
        <a href="{{videoUrl}}">{{videoUrl}}</a>
        <br/>{{browser}}
    </div>
</div> 
-->



<!-- 
banner ad
-->
<app-banner-ad *ngIf="showAd"></app-banner-ad>


<div class="container" [ngStyle]="{'margin-top': showAd ? '70px' : '20px', 'margin-bottom': '32px'}">


    <!-- ==================== VIDEO TITLE LABEL AND FIELD ========================= -->
    <div class="row" *ngIf="!editing_title">
        <div class="col" (click)="beginEditTitle()">
            <h3>
                <span *ngIf="video_title">{{video_title}}</span>  
                <span *ngIf="!video_title && initialized">(Add title)</span>  
            </h3>
        </div>
    </div>

    <div class="row no-gutters" *ngIf="editing_title">
        <div class="col-10 col-lg-11">
            <input class="form-control col-12"
                type="text"
                id="video_title"
                [(ngModel)]="video_title"
                placeholder="Title" />
        </div>

        <div class="col-2 col-lg-1">
            <button id="save_title" (click)="save_title()" class="btn btn-success col-12" ><i class="fas fa-check"></i>  </button>
        </div>
    </div>
    
    <div class="row">
        <div class="col">
            {{room.views}} views
        </div>
    </div>


    <!-- ==================== VIDEO DESCRIPTION LABEL AND FIELD ========================= -->
    <div class="row" *ngIf="!editing_description" style="margin-top:10px">
        <div class="col text-style" (click)="beginEditDescription()">
                <span *ngIf="video_description" style="white-space: pre-wrap;" [innerHTML]="video_description | linkify"></span>
                <span *ngIf="!video_description && initialized">(Add description)</span>
        </div>
    </div>

    <div class="row" *ngIf="editing_description" style="margin-top:10px">
        <div class="col">
            <textarea class="form-control col-12"
                      id="video_description" 
                      placeholder="Video description"
                      [(ngModel)]="video_description"
                      rows="10">{{video_description}}</textarea>
        </div>
    </div>

    <div class="row" *ngIf="editing_description" style="margin-top:10px">
        <div class="col">
            <button id="save_description" (click)="save_description()" class="btn btn-success col-12"><i class="fas fa-check"></i>  Save Description </button>
        </div>
    </div>


    <div class="row" style="margin-top:10px">
        <div class="col-6">
            <button class="btn btn-primary col-12" (click)="showElectedOfficials = true;showComments = false"> <i class="fa fa-users"></i> Officials  </button>
        </div>
        <div class="col-6">
            <button class="btn btn-primary col-12" (click)="showElectedOfficials = false;showComments = true"> <i class="fas fa-comments"></i> Comments  </button>
        </div>
    </div>


    <span *ngIf="showElectedOfficials"> 

        <div class="row" style="margin-top:30px;margin-bottom:10px">
            <div class="col-4">
                <h3>Officials</h3>
            </div>
            
            <!-- no point in showing expand/collapse icon if there aren't any legislators -->
            <div class="col-8 text-right">
            <span *ngIf="room && room.officials && room.officials.length > 0">
                <a (click)="officialsCollapsed = !officialsCollapsed"> 
                    <span *ngIf="officialsCollapsed">Expand for contact info <i class="fas fa-chevron-down"></i></span> 
                    <span *ngIf="!officialsCollapsed">Collapse <i class="fas fa-chevron-up"></i></span>  
                </a>
            </span>
            </div>
            
        </div>


        <span *ngIf="room && room.officials">
        <div [ngClass]="{'row': true, 'justify-content-center': officialsCollapsed}"  style="margin-top:0px">
                <span *ngFor="let official of room.officials" [ngClass]="{'col-12': !officialsCollapsed}">
                    <app-view-official [inputCollapsed]="officialsCollapsed" [canDelete]="isHost" [official]="official"></app-view-official>
                </span>
        </div>
        </span>

        <div class="row" style="margin-top:10px" *ngIf="isHost">
            <div class="col">
                <button id="mybtn1" class="btn btn-primary col-12" (click)="openOfficialDialog()"> <i class="fas fa-user-plus"></i> Add Elected Official  </button>
            </div>
        </div>
    </span>

</div>


<!-- put comment section outside of "container" so that the slide-up comment edit form spans the whole width of the page  -->
<span *ngIf="showComments">   
    <div class="row">
        <div class="col">
            <app-comments [inputRoomToComments]="room"></app-comments>
        </div>
    </div>
</span>





<div id="mybox1" class="mydiv target" [ngClass]="{'collapsed' : collapsed, 'translated': translated}">   
                
    <a href="javascript:void(0)" class="pull-right" (click)="translated = !translated" style="margin-top:10px;margin-right:10px;color:black"><i class="fa fa-close fa-2x"></i></a>   
    <app-search-officials [inputCollapsed]="false"></app-search-officials>
  
</div> 

